language: node_js
node_js:
  - 0.8

env:
  global:
    - secure: "BBsT8yAoHvft5MqeV9cCJ+loGlmpF5gyW6yVLucoTVgZ+XeKe+YzrAoE0v9f\nicSe7il2uhTbWz1o65+oukFfw8goBjY+RcID2IPDn5ha8+XqFPigHrjxuyp/\nOU1VuCMOPjPNoiFlEVBUsA3PsQp+TNe0Vg1T7hrLj4Kypj1Sif4="
    - secure: "TKkecFzU0kZEsI6i7AAVBMi5w753a6cMq5HWttqVutUFSe3Qsx3iNhl3bK0X\nkrsTdtxTslPCzImBmXtDUSPSoUz7CXu1mVLgju7eDKJ1VXR87MY0zZpOf2hL\nqmKBF1RDivVVbDZBPqxXXjoufOCbq1OeiWgJiDndAb/352qTZYI="

before_script:
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start
  - npm install -g grunt-cli
  - grunt package
  - grunt webserver > /dev/null &
  - echo "user: $SAUCE_USERNAME"
  - curl https://gist.github.com/santiycr/5139565/raw/sauce_connect_setup.sh | bash

script:
  - grunt test --browsers ./sauce_firefox.sh --reporters=dots
