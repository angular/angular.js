<!doctype html>
<html xmlns:ng="http://angularjs.org">
  <head>
    <title>Personal Log</title>
    <script type="text/javascript" src="../../src/angular-bootstrap.js" ng:autobind></script>
    <script type="text/javascript" src="personalLog.js"></script>
  </head>


  <!-- TODO: we need to expose $root so that we can delete cookies in the scenario runner, there
             must be a better way to do this -->
  <body ng:controller="example.personalLog.LogCtrl" ng:init="$window.$root = $root">

    <form action="" ng:submit="addLog(newMsg)">
      <input type="text" name="newMsg" />
      <input type="submit" value="add" />
      <input type="button" value="remove all" ng:click="rmLogs()" />
    </form>

    <hr/>
    <h2>Logs:</h2>
    <ul>
      <li ng:repeat="log in logs.$orderBy('-at')">
        {{log.at | date:'yy-MM-dd HH:mm'}} {{log.msg}}
        [<a href="" ng:click="rmLog(log)">x</a>]
      </li>
    </ul>

  </body>
</html>